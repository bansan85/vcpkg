From ec8763adf2f02fa4b8b6352294e188cba412fe89 Mon Sep 17 00:00:00 2001
From: LE GARREC Vincent <github@le-garrec.fr>
Date: Sun, 13 Jun 2021 14:17:47 +0200
Subject: [PATCH] Fix signed/unsigned mismatch in VS

---
 include/spdlog/async.h               | 2 +-
 include/spdlog/details/file_helper.h | 2 +-
 include/spdlog/details/os-inl.h      | 2 +-
 include/spdlog/details/os.h          | 2 +-
 4 files changed, 4 insertions(+), 4 deletions(-)

diff --git a/include/spdlog/async.h b/include/spdlog/async.h
index f79563058..6406822c5 100644
--- a/include/spdlog/async.h
+++ b/include/spdlog/async.h
@@ -46,7 +46,7 @@ struct async_factory_impl
         auto tp = registry_inst.get_tp();
         if (tp == nullptr)
         {
-            tp = std::make_shared<details::thread_pool>(details::default_async_q_size, 1);
+            tp = std::make_shared<details::thread_pool>(details::default_async_q_size, 1U);
             registry_inst.set_tp(tp);
         }
 
diff --git a/include/spdlog/details/file_helper.h b/include/spdlog/details/file_helper.h
index 5395d9cbf..473baf1e1 100644
--- a/include/spdlog/details/file_helper.h
+++ b/include/spdlog/details/file_helper.h
@@ -47,7 +47,7 @@ class SPDLOG_API file_helper
 
 private:
     const int open_tries_ = 5;
-    const int open_interval_ = 10;
+    const unsigned int open_interval_ = 10;
     std::FILE *fd_{nullptr};
     filename_t filename_;
 };
diff --git a/include/spdlog/details/os-inl.h b/include/spdlog/details/os-inl.h
index 6df895655..41052899e 100644
--- a/include/spdlog/details/os-inl.h
+++ b/include/spdlog/details/os-inl.h
@@ -366,7 +366,7 @@ SPDLOG_INLINE size_t thread_id() SPDLOG_NOEXCEPT
 
 // This is avoid msvc issue in sleep_for that happens if the clock changes.
 // See https://github.com/gabime/spdlog/issues/609
-SPDLOG_INLINE void sleep_for_millis(int milliseconds) SPDLOG_NOEXCEPT
+SPDLOG_INLINE void sleep_for_millis(unsigned int milliseconds) SPDLOG_NOEXCEPT
 {
 #if defined(_WIN32)
     ::Sleep(milliseconds);
diff --git a/include/spdlog/details/os.h b/include/spdlog/details/os.h
index 9fda1447c..770bb0cf3 100644
--- a/include/spdlog/details/os.h
+++ b/include/spdlog/details/os.h
@@ -74,7 +74,7 @@ SPDLOG_API size_t thread_id() SPDLOG_NOEXCEPT;
 
 // This is avoid msvc issue in sleep_for that happens if the clock changes.
 // See https://github.com/gabime/spdlog/issues/609
-SPDLOG_API void sleep_for_millis(int milliseconds) SPDLOG_NOEXCEPT;
+SPDLOG_API void sleep_for_millis(unsigned int milliseconds) SPDLOG_NOEXCEPT;
 
 SPDLOG_API std::string filename_to_str(const filename_t &filename);
 
